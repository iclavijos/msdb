<div>
    <div class="row">
        <div class="col-sm-12">
            <button *jhiHasAnyAuthority="['ROLE_ADMIN', 'ROLE_EDITOR']"
                    class="btn btn-primary float-right create-event-session" [routerLink]="['/', { outlets: { popup: eventEdition.id + '/event-session-new' } }]">
                <span class="fa fa-plus"></span>
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="alert alert-warning" [hidden]="eventSessions && eventSessions.length > 0">
                <span jhiTranslate="motorsportsDatabaseApp.eventEdition.session.notFound">No event sessions found</span>
            </div>
            <div class="table-responsive" [hidden]="!eventSessions || eventSessions?.length === 0">
                <table mat-table class="table table-hover" [dataSource]="eventSessions" matSortActive="editionYear" matSortDisableClear matSortDirection="asc">

                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef>{{ 'motorsportsDatabaseApp.eventEdition.session.name' | translate }}</th>
                        <td mat-cell *matCellDef="let session">{{ session.name }}</td>
                    </ng-container>

                    <ng-container matColumnDef="sessionStartTime">
                        <th mat-header-cell *matHeaderCellDef>{{ 'motorsportsDatabaseApp.eventEdition.session.sessionStartTime' | translate }}</th>
                        <td mat-cell *matCellDef="let session">{{ session.sessionStartTime | localizedDate }}</td>
                    </ng-container>

                    <ng-container matColumnDef="duration">
                        <th mat-header-cell *matHeaderCellDef>{{ 'motorsportsDatabaseApp.eventEdition.session.duration' | translate }}</th>
                        <td mat-cell *matCellDef="let session">
                            {{session.duration}} {{'motorsportsDatabaseApp.eventEdition.enumerations.' + durationTypes[session.durationType] | translate}}
                            <span *ngIf="session.additionalLap">+ 1 {{'motorsportsDatabaseApp.eventEdition.session.lap' | translate}}</span>
                        </td>
                    </ng-container>
                    </ng-container>

                    <ng-container matColumnDef="buttons">
                        <th mat-header-cell *matHeaderCellDef></th>
                        <td mat-cell *matCellDef="let eventEdition">
                            <div class="btn-group">
                                <button type="submit"
                                        [routerLink]="['/event', 'edition', eventEdition.id, 'view-ed' ]"
                                        class="btn btn-info btn-xs">
                                    <fa-icon [icon]="'eye'"></fa-icon>
                                </button>
                                <button type="submit"
                                        *jhiHasAnyAuthority="['ROLE_ADMIN', 'ROLE_EDITOR']"
                                        [routerLink]="['/event/edition', eventEdition.id, 'edit-ed']"
                                        class="btn btn-primary btn-xs">
                                    <fa-icon [icon]="'pencil-alt'"></fa-icon>
                                </button>
                                <button type="submit"
                                        *jhiHasAnyAuthority="['ROLE_ADMIN']"
                                        [routerLink]="['/event/edition', { outlets: { popup: eventEdition.id + '/delete-ed'} }]"
                                        replaceUrl="true"
                                        queryParamsHandling="merge"
                                        class="btn btn-danger btn-xs">
                                    <fa-icon [icon]="'times'"></fa-icon>
                                </button>
                            </div>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>
        </div>
    </div>
</div>
